<div class="container  ">
  <form [formGroup]="formInfoBasica" (ngSubmit)="onSubmit()" novalidate>
    <div class="card  mx-auto" style=" margin:auto;padding: 5vh;">

      <div class="row">
        <div style="width:100%;">
          <mat-card-title class="tituformulario">
            <p-message severity="warn" text="Todos los campos con * son obligatorios" styleClass=" "></p-message>
           
          </mat-card-title>
        </div>
      </div>
      <span class="mx-auto  nuevoTitulo xl:bg-red-50 " id="nuevotitulo"> Datos Básicos </span>
      <div
        style="width: 100%; margin:auto;padding: 8vh; top:1vh;left:0;right:0;z-index:1; border:1px solid var(--blue2); ">
        
        <!-- [formGroup]="formulario?.get('programa')"  -->
        <!-- [ngClass]="{'is-invalid':f('programa.nombre')?.invalid,'is-valid': f('programa.nombre')?.valid}"  -->
        <div class="row ">
          <div class="col" style=""
            id="programa">
            <label for="" class="labeltitulo ">*Nombre Programa</label>
            <input matInput type="text" [readonly]="slect" class="form-control" placeholder=" " 
            formControlName="nombrePrograma" style="width:470px ;">
          </div>
          
        </div>
        
        <!-- <small *ngIf="f('programa.nombre')?.getError('required')"> Este campo es necesario </small> -->
        <div class="row">
          <div class="col" >
            <label>*Facultad</label>
            <mat-select id="my-select" class="form-control" name="" formControlName="idFacultad" 
              (selectionChange)="onChangeFacultad($event.value)">
              <mat-option [disabled]="readonly"></mat-option>
              <mat-option *ngFor="let facultad of facult" [value]="facultad.id" [disabled]="slect">
                {{facultad.nombre}}</mat-option>
            </mat-select>
            <small *ngIf="f('programa.facultad.codigo')?.getError('required')"> Este campo es necesario </small>
          </div>
          <!--end-->
          <div class="col">
            <label class="labeltitulo "  >*Nivel Académico &nbsp; </label>
            <mat-select class="form-control" 
            formControlName="idNivelAcademico" 
            (selectionChange)="onChangeNivelAcademicoPrg($event.value)">
              <mat-option *ngFor="let nivelAc of nivelesAcade" [value]="nivelAc.id" [disabled]="slect">
                {{nivelAc.nombre}}
              </mat-option>
            </mat-select>
            <small *ngIf="f('programa.nivelAcademico.id')?.getError('required')"> Este campo es necesario </small>

          </div>
          <!--end-->
          <div class="col" >
            <label>*Formación</label>
            <mat-select class="form-control" formControlName="idNivelFormacion" 
             (selectionChange)=" onchangeFormacion($event.value)">
              <mat-option [disabled]="readonly"> </mat-option>
              <mat-option *ngFor="let nivelAc of nvlFormacion" [value]="nivelAc.id" [disabled]="slect">
              {{nivelAc.nombreNivelFormacion}}  </mat-option>
            </mat-select>
            <small *ngIf="f('nivelFormacion.id')?.getError('required')"> Este campo es necesario </small>
          </div>
          <!--end-->


        </div>
        <div class="row">
          <div class="col"></div>
          <div class="col"></div>
          <div class="col">
          </div>
        </div>
      </div>
    </div><br>
    <!-- AQUÍ FINALIZA EL FORM DE INFORMACIÓN BÁSICA -->
    
  </form>

  <form [formGroup]="formDenominacion" (ngSubmit)="onSubmit()" novalidate>
    <div class="row" style="margin-top:-1vh; margin-left:1vh;">
      <div class="col flex">
        <mat-card style="width:99%; border-radius: 13px; display: flex;">
          <mat-card-title style="display:flex;">
            Seleccione la sede a la cual pertenece el programa: &nbsp;
            <input type="checkbox" id="cbox1" class="largerCheckbox" value="first_checkbox" size="100px" [checked]="show1"
            (change)="show1 = !show1">
            <label class="labeltitulo mr-4 "> Barranquilla</label>
            <input type="checkbox" id="cbox2" class="largerCheckbox" value="first_checkbox" size="100px"
            [checked]="show2"
            (change)="show2 = !show2"
            >
            <label class="labeltitulo"> Cucuta</label><br>
          </mat-card-title>
        </mat-card>
      </div>
    </div>
    <!--end-->

    <div class="card  " style="top: 2vh; padding: 5vh; " *ngIf="show1">

      <span class="mx-auto  nuevoTitulo " id="nuevosubtitulo"> Detalle del programa académico (Barranquilla) </span>
      <div class="py-4"
        style="width: 100%; margin:auto;padding: 3vh; top:1vh;left:0;right:0;z-index:1; border:1px solid var(--blue2); ">
        <!--end-->
        <div class="row  ">
          <div class="col-2"></div>
          <div class="col-5  ">
            <label class="labeltitulo">*Snies <input [readonly]="readonly" type="text" class="form-control1"
                placeholder="  " formControlName="snies"></label>
            <!-- <small > Este campo es necesario </small> -->
          </div>

          <div class="col-3 -ml-16">
            <label class="labeltitulo">*Registro Calificado Único
              <mat-select [disabled]="readonly" type="number" class="form-control1" placeholder="  "
                formControlName="registroCalificadoUnico" style="width:80px;">
                <mat-option value="SI">SI</mat-option>
                <mat-option value="NO">NO</mat-option>
              </mat-select>
            </label>
            <small > Este campo es necesario </small>


          </div>

        </div>
        
        <div class="row  ">

          <div class="col">
            <label class="labeltitulo">*Título que otorga(Femenino) <input [readonly]="slect" type="text"
                class="form-control"  placeholder=" " 
                formControlName="tituloFemenino"></label>
            <small > Este campo es necesario </small>
          </div>

          <div class="col">
            <label class="labeltitulo">*Título que Otorga(Masculino)
              <input [readonly]="slect" type="text" class="form-control" 
                      placeholder="  " 
                      formControlName="tituloMasculino"></label>
            <small> Este campo es necesario </small>
          </div>

        </div>

        <!--end-->
        <div class="row">
          <div class="col-1">

          </div>
          <div class="col">
            <label class="labeltitulo" style="display:flex;">
              Modalidad y tipo de programa
            </label>
            <table class="table table-hover">
              <thead>
                <tr><span class="btn btn-info mb-1"  (click)="openAddcion()" >+Agregar</span></tr>
                <tr style="border:1px solid ;">
                  <th style="border:1px solid ;">Tipo</th>
                  <th style="border:1px solid ;">Modalidad</th>
                </tr>

              </thead>
              <tbody >
                <tr style="border:1px solid ;" *ngFor="let modalidad of modalidadesPrograma; let i = index">
                  <td>{{ tiposPrograma[i].nombre | titlecase  }}</td>
                  <td>{{ modalidad.nombre | titlecase}}</td>
                </tr>
              </tbody>

            </table>
          </div>
          <div class="col">

          </div>
          <div class="col">

          </div>
        </div>
        <hr>
        <div class="row">

          <div class="col " >
            <label class="labeltitulo">Duración estimada del programa</label>
            <input [readOnly]="readonly" type="number" class="form-control" placeholder="  " 
            formControlName="duracionTiempo" >
            <!-- <small *ngIf="f('periocidad.duracion')?.getError('required')"> Este campo es necesario </small> -->
          </div>
          <div class="col" >
            <label for="" style="color: transparent;">Periodicidad</label>
            <mat-select style="float:left;"  class="form-control" (selectionChange)="onChangeAdmision($event.value)" placeholder="  "  
            formControlName="idDuracionPeriodicidad">
              <mat-option [disabled]="readonly" *ngFor="let admision of duracionesProgramas" [value]="admision.id"
              >{{admision.nombre}}</mat-option>


            </mat-select>
            <!-- <small *ngIf="f('periocidad.id')?.getError('required')"> Este campo es necesario </small> -->
          </div>
          <div class="col"></div>
        </div>
        <div class="row">

          <div class="col ">
            <label class="labeltitulo">Periodicidad de la Admisión al Programa</label>
            <mat-select type="number" class="form-control" placeholder="  " 
                        formControlName="idPeriodicidadAdmision"
                        style="width:250px ;">
              <mat-option [disabled]="readonly" *ngFor="let admision of admisionPrg" [value]="admision.id"
                >{{admision.nombre}}</mat-option>


            </mat-select>
            <small *ngIf="f('periodicidad')?.getError('required')"> Este campo es necesario </small>
          </div>
          <div class="col">

          </div>
          <div class="col">

          </div>
        </div>
        <div class="row">
         
          <div class="col wrapper" >
            <label for="" class="labeltitulo">Campo Amplio</label>
            <mat-select class="form-control"  formControlName="idCampoAmplio" (selectionChange)="OnCampoEspe($event.value)">
              <mat-option *ngFor="let campos of campoAmplio" [value]="campos.id"
              
              >{{campos.nombreCampoAmplio}}</mat-option>
            </mat-select>
          </div>
          <div class="col" >
            <label class="labeltitulo">Campo Especifico</label>
            <mat-select class="form-control" formControlName="idCampoEspecifico"  (selectionChange)="OnCampodetall($event.value)">
              <option value="" selected></option>
              <mat-option  *ngFor="let especi of campoEspe" [value]="especi.id" > {{especi.nombreCampoEspecifico}}</mat-option>
            </mat-select>
          </div>
          <div class="col"><label class="labeltitulo">Campo Detallado</label>
            <mat-select class="form-control"  (selectionChange)="onChangeDetall($event.value)" 
              formControlName="idCampoDetallado" >
              <option value="" selected></option>
              <mat-option *ngFor="let deta of campoDetallado" [value]="deta.id">{{deta.nombreCampoDetallado}}</mat-option>
            </mat-select>
          </div>
        </div>
        <div class="row">

          <div class="col"><label for="" class="labeltitulo" style="display:flex;width:max-content">Porcentaje de Inclusión Tecnológica</label>
            <input [readonly]="readonly" type="number" class="form-control" placeholder="  " formControlName="inclusionTecnologica" placeholder="%">
            <!-- <small *ngIf="f('inclusionTecnologica')?.getError('required')"> Este campo es necesario </small> -->
          </div>
          <div class="col"></div>
          <div class="col"></div>
        </div>
        <div class="row">

          <div class="col wrapper"><label for="" class="labeltitulo">Número de Estudiantes en el Primer periodo</label>
            <input [readonly]="readonly" type="number" class="form-control" placeholder="  " 
             formControlName="estudiantesPP">
            <!-- <small *ngIf="f('estudiantesPp')?.getError('required')"> Este campo es necesario
            </small> -->
          </div>
          <div class="col "><label class="labeltitulo">Cupo por cohorte</label>
            <input [readonly]="readonly" type="number" class="form-control" formControlName="cupoCohorte" 
            >
            <!-- <small *ngIf="f('cupoCohorte')?.getError('required')"> Este campo es necesario </small> -->
          </div>
          <div class="col "><label class="labeltitulo">Valor de Matricula</label>
            <input [readonly]="readonly" type="number" class="form-control" placeholder="  " 
             formControlName="valorMatricula">
            <!-- <small *ngIf="f('valorMatricula')?.getError('required')"> Este campo es necesario </small> -->
          </div>
        </div>
        <!--end-->
        <div class="row">
         
          <div class="col "><label class="labeltitulo">*Lugar Desarrollo Vigente IES</label>
            <mat-select id="my-select" class="form-control" (selectionChange)="onChangeCiudad($event.value)"  
              formControlName="lugarIES" >
              <mat-option [disabled]="readonly"></mat-option>
              <mat-option  *ngFor="let ciudad of ciudades" [value]="ciudad.id" [disabled]="slect">{{ciudad.nombre}} 
              </mat-option>
            </mat-select>
            <!-- <small *ngIf="f('ubicacionOLugarDesarrolloVigenteIes.id')?.getError('required')"> Este campo es necesario
            </small> -->
          </div>
          <div class="col ">
            <label for="" class="labeltitulo">Código RU</label>
            <input type="number" [readonly]="readonly" class="form-control" placeholder="  " 
             formControlName="codigoRU">
            <!-- <small *ngIf="f('codigoRu')?.getError('required')"> Este campo es necesario </small> -->

          </div>
        </div>
        <!--end-->

        <!--end-->
        <div class="row">

          <!-- [ngClass]="{
            'is-invalid':f('numeroNorma')?.invalid,
            'is-valid': f('numeroNorma')?.valid
          }"  -->
          <div class="col  ">
            <label class="labeltitulo">Numero de la norma</label>
            <input [readonly]="readonly" type="number" class="form-control" placeholder="  " 
            formControlName="numeroNorma">
            <!-- <small *ngIf="f('numeroNorma')?.getError('required')"> Este campo es necesario </small> -->
          </div>
          
          <div class="col ">

            <label class="labeltitulo">Numero de la resolución</label>
            <input type="number" class="form-control" placeholder="  "  
                    formControlName="numeroResolucion">
            <!-- <small *ngIf="f('numeroResolucion')?.getError('required')"> Este campo es necesario </small> -->
          </div>
        </div>

        <!--end-->
        <div class="row">
          <!-- (keyup)=" onChangeObligatorio($event.target)" -->
          <div class="col ">
            <label for="">Créditos Obligatorios</label>
            <input [readonly]="readonly" type="number" 
              class="form-control" placeholder="No. 0" 
              formControlName="creditosObligatorios" >
            <!-- <small *ngIf="f('creditosObligatorios')?.getError('required')"> Este campo es necesario </small> -->
          </div>
          <!-- (keyup)="onChangeElectivo($event.target)"  -->
          <div class="col"><label for="">Créditos Electivos</label>
            <input [readonly]="readonly" type="number"  class="form-control rounded-full"
             placeholder="No. 0" formControlName="creditosElectivos" 
             >
            <!-- <small *ngIf="f('creditosElectivos')?.getError('required')"> Este campo es necesario </small> -->
          </div>
          <div class="col"><label class="labeltitulo">Total de créditos</label>
            <input [readonly]="readonly" type="number"  class="form-control" placeholder=" "  
                   formControlName="totalCreditos" 
            >
            
           
          </div>
        </div>
        <!--end-->
        <br>
        <hr>
        <!--aqui-->
        <div id="titulo">
         
          <div  class="row " style="width:100%;margin-top: -5vh;">
            <div class="col p-10">
              <label for="">Observaciones de la radicación</label>
              <textarea  name="" class="form-control" formControlName="justificacion" style="width:100%; height:160px;"></textarea>
            </div>
 
          </div>
          
              <div id="wrap">

                <mat-card >
                    <div mode="buffer" *ngFor="let progress of progressInfo">
                        <span>{{progress.fileName}}</span>
                        <span>{{progress.value}}%</span>
                        <div id="progressbar">
                            <mat-progress-bar mode="buffer" value={{progress.value}}>
                            </mat-progress-bar>
                        </div>
                    </div>
                </mat-card>
            
                <div id="box2">
                    <button id="selectButton"  (click)="fileInput.click()" class="btn btn-info">Select File to Upload</button>
            
                    <input #fileInput type="file" hidden multiple (change)="selectFiles($event)" />
                    <span *ngIf="fileName">{{fileName}}</span>
            
                    <button id="uploadButton"class="btn btn-info"  *ngIf="selectedFiles" [disabled]="!selectedFiles" (click)="uplodFiles()">
                        Subir Archivos
                    </button>
                </div>
            
                <div id="box3">
                    <span>{{message}}</span>
                </div>
            
            
               
            </div>
            
          
            <div class="col"></div>
            <div class="col"><button class="btn btn-primary float-right mr-4">Guardar</button></div>
          
        </div>
       
      </div>

    </div>
  </form>

</div>